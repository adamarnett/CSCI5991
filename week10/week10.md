# Week 10

Since the Sparkfun quad alphanumeric display didn't quite work out as planned (it's fundamentally different than the LCD displays intended for the auxdisplay API), I basically wrote a whole new one for a different display: [AMC0802BR-B-Y6WFDY-I2C](https://www.orientdisplay.com/wp-content/uploads/2019/10/AMC0802BR-B-Y6WFDY-I2C.pdf). That's a long name so I'll call it 8x2 later, since it's eight characters wide and two tall. This display is controlled by the [AC780S LCD Driver & Controller](https://www.orientdisplay.com/pdf/AC780S.pdf).
### Driver progress so far
Currently, I have everything but the custom character functionality working. I had tried to get it working but then I accidentlly overwrote roughly a third of the pre-programmed characters so now it's pretty slow going because I'm being super cautious about it. Thankfully I didn't lose any latin script letters needed for displaying english. It seems like it would take a very long time to re-program lost characters.

### Issue with different display
Since the AC780S is used across many different displays, I got another display ([AMC2004AR-B-B6WTDW-I2C](https://www.orientdisplay.com/wp-content/uploads/2019/10/AMC2004AR-B-B6WTDW-I2C-specsheet.pdf), which I will call 20x4), to further test the driver. The datasheet unfortunately seems to be identical to the datasheet for the SPI controlled version of the display, apart from the title. My driver didn't work for the 20x4 and I thought it might just be SPI and the title was an error, but when I looked at the datasheet for the same 20x4 with a different color background, there was indeed info about I2C just like with the 8x2's datasheet... So maybe it can work with I2C and there's just a problem with the datasheet? Time will tell I suppose, in order to have this driver truly functional it should be compatible with every display that uses the AC780S, right? (I think so.)

### Finishing the driver
In order to have the driver complete to the point of being ready to push to the official Zephyr repo, the custom character programming will need to be figured out. So will the other display. Since there are some models of display that use the AC780S and use SPI (not I2C), I wonder if my driver needs to account for that. Normally I would think yes, but that would likely add a lot of needless complexity and size of the code when an AC780S driver that can handle both SPI and I2C could be split into two drivers: AC780S-SPI and AC780S-I2C. I suppose in a combined driver preprocessor directives could possibly be used to prevent unnecessary code from making it into the image that's flashed to the device (i.e. if using I2C, no code related to SPI actually gets compiled). 

I would also need to clean up the code and ensure that it's compliant with Zephyr's requirements.